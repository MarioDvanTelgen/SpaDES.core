<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define a new module. — defineModule • SpaDES.core</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58633549-6', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">SpaDES.core</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/i-introduction.html">01 Introduction to `SpaDES`</a>
    </li>
    <li>
      <a href="../articles/ii-modules.html">02 Building modules in `SpaDES`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/SpaDES.core">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define a new module.</h1>
    </div>

    
    <p>Specify a new module's metadata as well as object and package dependencies.
Packages are loaded during this call. Any or all of these can be missing, with missing
values set to defaults</p>
    

    <pre class="usage"><span class='fu'>defineModule</span>(<span class='no'>sim</span>, <span class='no'>x</span>)

<span class='co'># S4 method for .simList,list</span>
<span class='fu'>defineModule</span>(<span class='no'>sim</span>, <span class='no'>x</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sim</th>
      <td><p>A <code>simList</code> object from which to extract element(s) or
in which to replace element(s).</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A list with a number of named elements, referred to as the metadata. See details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Updated <code>simList</code> object.</p>
    
    <h2 class="hasAnchor" id="required-metadata-elements"><a class="anchor" href="#required-metadata-elements"></a>Required metadata elements</h2>

    
    <table><tr><td>
   <code>name</code> </td>
<td> Module name. Must match the filename (without the <code>.R</code> extension).
                    This is currently not parsed by SpaDES;
                        it is for human readers only. </td>
</tr><tr><td>
   <code>description</code> </td>
<td> Brief description of the module.
                           This is currently not parsed by SpaDES;
                           it is for human readers only. </td>
</tr><tr><td>
   <code>keywords</code> </td>
<td> Author-supplied keywords.
                        This is currently not parsed by SpaDES;
                        it is for human readers only. </td>
</tr><tr><td>
   <code>childModules</code> </td>
<td> If this contains any character vector, then it will
                            be treated as a parent module. If this is a parent module,
                            then only this list entry will be read. For normal,
                            i.e., 'child modules', this should be <code>character(0)</code> or
                            <code>NA</code>.
                            If a character vector is provided, then these must be the
                            names of the modules located in the same file path as this
                            parent module that will be loaded during the <code>simInit</code>.</td>
</tr><tr><td>
   <code>authors</code> </td>
<td> Module author information (as a vector of <code>person</code>
                       objects. This is currently not parsed by SpaDES;
                       it is for human readers only.</td>
</tr><tr><td>
   <code>version</code> </td>
<td> Module version number (will be coerced to <code>numeric_version</code>
                       if a character or numeric are supplied).
                       The module developer should update manually this with each change
                       that is made to the module. See <a href='http://semver.org/'>http://semver.org/</a>
                       for a widely accepted standard for version numbering.</td>
</tr><tr><td>
   <code>spatialExtent</code> </td>
<td> The spatial extent of the module supplied via
                             <code><a href='http://www.rdocumentation.org/packages/raster/topics/extent'>raster::extent</a></code>. This is currently unimplemented.
                             Once implemented, this should define what spatial region this
                             module is scientifically reasonable to be used in.</td>
</tr><tr><td>
   <code>timeframe</code> </td>
<td> Vector (length 2) of POSIXt dates specifying the temporal extent
                         of the module. Currently unimplemented.
                         Once implemented, this should define what time frame this
                         module is scientifically reasonable to be used for.</td>
</tr><tr><td>
   <code>timeunit</code> </td>
<td> Time scale of the module (e.g., "day", "year"). This
                        MUST be specified. It indicates what '1' unit of time
                        means for this module. <code>SpaDES</code> interprets this
                        and if modules have different <code>timeunit</code> values
                        then it will correctly schedule each module, using the
                        smallest (currently the default) timeunit as the
                        'model' timeunit in the <code>spades</code> call.</td>
</tr><tr><td>
   <code>citation</code> </td>
<td> List of character strings specifying module citation information.
                        Alternatively, a list of filenames of <code>.bib</code> or similar files.
                        This is currently not parsed by SpaDES;
                        it is for human readers only.</td>
</tr><tr><td>
   <code>documentation</code> </td>
<td> List of filenames referring to module documentation sources.
                             This is currently not parsed by SpaDES;
                             it is for human readers only.</td>
</tr><tr><td></td>
<td>
   <code>reqdPkgs</code> </td>
</tr><tr><td> List of R package names required by the module. These
                        packages will be loaded when <code>simInit</code> is called.
                        <code><a href='http://reproducible.predictiveecology.org/reference/Require.html'>Require</a></code> will be used internally
                        to load if available, and install if not available.
                        Because <code><a href='http://reproducible.predictiveecology.org/reference/Require.html'>Require</a></code> can also download from
                        GitHub.com, these packages can specify package names stored
                        on GitHub, e.g., <code>"PredictiveEcology/SpaDES.core@development"</code>.
                        </td>
<td>
   <code>parameters</code> </td>
</tr><tr><td> A data.frame specifying the parameters used in the module.
                          Usually produced by <code>rbind</code>-ing the outputs of multiple
                          <code><a href='defineParameter.html'>defineParameter</a></code> calls. These parameters indicate
                          the default values that will be used unless a module user
                          overrides them with the <code>params</code> argument in the
                          <code><a href='simInit.html'>simInit</a></code> call. The minimum and maximum are
                          currently used
                          by the <code>shine</code> function and the <code>POM</code> function, and they
                          should indicate the range of values that are reasonable
                          scientifically.</td>
<td>
   <code>inputObjects</code> </td>
</tr><tr><td> A <code>data.frame</code> specifying the data objects expected as
                            inputs to the module,
                            with columns <code>objectName</code> (class <code>character</code>),
                            <code>objectClass</code> (class <code>character</code>),
                            <code>sourceURL</code> (class <code>character</code>), and <code>other</code>
                             (currently spades does nothing with this column).
                            This data.frame identifies the objects that are expected,
                            but does not do any loading of
                            that object into the simList. The <code>sourceURL</code> gives
                            the developer the opportunity
                            to identify the source of a data file that can be used
                            with the model. This URL will be
                            used if the user calls <code>downloadData</code> (or
                            <code><a href='downloadModule.html'>downloadModule(..., data = TRUE)</a></code>. If the raw data
                            must be modified, the developer can use create a
                            function called <code>.inputObjects</code> in their module. That
                            function will be run during the <code>simInit</code> call. The
                            developer should ensure that if the object is supplied
                            by the module user as an argument in the <code>simInit</code>, then
                            the <code>.inputObjects</code> should not be run, i.e., use an
                            <code>(is.null(sim$xxx)))</code>.</td>
<td>
   <code>outputObjects</code> </td>
</tr><tr><td> A <code>data.frame</code> specifying the data objects output by
                             the module, with columns identical to those in
                             <code>inputObjects</code>. Like <code>inputObjects</code> above,
                             this only identifies the objects that this module will output
                             into the <code>simList</code>.
                             The module developer must create the necessary functions
                             that will cause these objects to be put into the
                             <code>simList</code>.</td>
<td>
   <code>name</code> </td>
</tr></table>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>moduleDefaults</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
  <span class='co'>## a default version of the defineModule is created with a call to newModule</span>
  <span class='fu'><a href='newModule.html'>newModule</a></span>(<span class='st'>"test"</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'>tempdir</span>())

  <span class='co'>## view the resulting module file</span>
  <span class='kw'>if</span> (<span class='fu'>interactive</span>()) <span class='fu'>file.edit</span>(<span class='fu'>file.path</span>(<span class='fu'>tempdir</span>(), <span class='st'>"test"</span>, <span class='st'>"test.R"</span>))

  <span class='co'># The default defineModule created by newModule is currently (SpaDES version 1.3.1.9044):</span>
  <span class='fu'>defineModule</span>(<span class='no'>sim</span>, <span class='fu'>list</span>(
    <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"test"</span>,
    <span class='kw'>description</span> <span class='kw'>=</span> <span class='st'>"insert module description here"</span>,
    <span class='kw'>keywords</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"insert key words here"</span>),
    <span class='kw'>authors</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fu'>person</span>(<span class='fu'>c</span>(<span class='st'>"First"</span>, <span class='st'>"Middle"</span>), <span class='st'>"Last"</span>,
                       <span class='kw'>email</span> <span class='kw'>=</span> <span class='st'>"email@example.com"</span>, <span class='kw'>role</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"aut"</span>, <span class='st'>"cre"</span>))),
    <span class='kw'>childModules</span> <span class='kw'>=</span> <span class='fu'>character</span>(<span class='fl'>0</span>),
    <span class='kw'>version</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>SpaDES</span> <span class='kw'>=</span> <span class='st'>"1.3.1.9044"</span>, <span class='kw'>test</span> <span class='kw'>=</span> <span class='st'>"0.0.1"</span>),
    <span class='kw'>spatialExtent</span> <span class='kw'>=</span> <span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/raster/topics/extent'>extent</a></span>(<span class='fu'>rep</span>(<span class='fl'>NA_real_</span>, <span class='fl'>4</span>)),
    <span class='kw'>timeframe</span> <span class='kw'>=</span> <span class='fu'>as.POSIXlt</span>(<span class='fu'>c</span>(<span class='fl'>NA</span>, <span class='fl'>NA</span>)),
    <span class='kw'>timeunit</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>, <span class='co'># e.g., "year",</span>
    <span class='kw'>citation</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"citation.bib"</span>),
    <span class='kw'>documentation</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='st'>"README.txt"</span>, <span class='st'>"test.Rmd"</span>),
    <span class='kw'>reqdPkgs</span> <span class='kw'>=</span> <span class='fu'>list</span>(),
    <span class='kw'>parameters</span> <span class='kw'>=</span> <span class='fu'>rbind</span>(
      <span class='co'>#defineParameter("paramName", "paramClass", value, min, max,</span>
      <span class='co'># "parameter description")),</span>
      <span class='fu'><a href='defineParameter.html'>defineParameter</a></span>(<span class='st'>".plotInitialTime"</span>, <span class='st'>"numeric"</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>,
      <span class='st'>"This describes the simulation time at which the first plot event should occur"</span>),
      <span class='fu'><a href='defineParameter.html'>defineParameter</a></span>(<span class='st'>".plotInterval"</span>, <span class='st'>"numeric"</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>,
      <span class='st'>"This describes the simulation time at which the first plot event should occur"</span>),
      <span class='fu'><a href='defineParameter.html'>defineParameter</a></span>(<span class='st'>".saveInitialTime"</span>, <span class='st'>"numeric"</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>,
      <span class='st'>"This describes the simulation time at which the first save event should occur"</span>),
      <span class='fu'><a href='defineParameter.html'>defineParameter</a></span>(<span class='st'>".saveInterval"</span>, <span class='st'>"numeric"</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>, <span class='fl'>NA</span>,
      <span class='st'>"This describes the simulation time at which the first save event should occur"</span>)
    ),
    <span class='kw'>inputObjects</span> <span class='kw'>=</span> <span class='fu'>bind_rows</span>(
      <span class='fu'><a href='expectsInput.html'>expectsInput</a></span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>, <span class='kw'>objectClass</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>,
        <span class='kw'>sourceURL</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>, <span class='kw'>desc</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>, <span class='kw'>other</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>)
    ),
    <span class='kw'>outputObjects</span> <span class='kw'>=</span> <span class='fu'>bind_rows</span>(
      <span class='fu'><a href='createsOutput.html'>createsOutput</a></span>(<span class='kw'>objectName</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>, <span class='kw'>objectClass</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>,
        <span class='kw'>desc</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>, <span class='kw'>other</span> <span class='kw'>=</span> <span class='fl'>NA_character_</span>)
    )
  ))

<span class='co'># }</span># NOT RUN {
# }
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#required-metadata-elements">Required metadata elements</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Alex Chubaty

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alex M Chubaty, Eliot J B McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
